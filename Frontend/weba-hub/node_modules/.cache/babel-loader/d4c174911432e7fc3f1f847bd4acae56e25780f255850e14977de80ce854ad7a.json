{"ast":null,"code":"var _jsxFileName = \"c:\\\\Learning\\\\Programming_Projects\\\\Programming_Projects\\\\Weba-Hub\\\\Frontend\\\\weba-hub\\\\src\\\\Components\\\\UserIcon\\\\UserIcon.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jwtDecode } from 'jwt-decode';\nimport axios from 'axios';\nimport './UserIcon.css';\nimport default_image from '../../Assets/default-image.jpg';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction UserIcon() {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [showMenu, setShowMenu] = useState(false);\n  const [showLogin, setShowLogin] = useState(false);\n  const [showSignup, setShowSignup] = useState(false);\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [role, setRole] = useState('');\n  const [roles, setRoles] = useState([]);\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(true); // Add loading state\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      try {\n        const decodedToken = jwtDecode(token); // Decode token\n        setIsAuthenticated(true);\n        setUsername(decodedToken.username || ''); // Handle missing fields gracefully\n        setEmail(decodedToken.email || '');\n        console.log('Decoded Token:', decodedToken); // Log the entire decoded token\n        console.log('Username:', decodedToken.username); // Log username\n        console.log('Email:', decodedToken.email); // Log email\n      } catch (error) {\n        console.error('Error decoding token:', error);\n        localStorage.removeItem('token'); // Remove invalid token\n        setIsAuthenticated(false);\n      }\n    }\n    setLoading(false); // Set loading to false after token validation\n  }, []);\n  useEffect(() => {\n    const fetchRoles = async () => {\n      try {\n        const response = await axios.get('http://localhost:5000/api/roles/fetch');\n        setRoles(response.data);\n      } catch (error) {\n        console.error('Error fetching roles:', error);\n      }\n    };\n    fetchRoles();\n  }, []);\n  const handleSignup = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:5000/api/users/register', {\n        username,\n        password,\n        email,\n        role\n      });\n      setMessage(response.data.message);\n      setShowSignup(false);\n      setShowLogin(true);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'An error occurred');\n    }\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:5000/api/users/login', {\n        email,\n        password\n      });\n      // Access the user object from the response\n      const {\n        user\n      } = response.data; // Extract the user object\n      setUsername(user.username); // Set the username from the user object\n      setMessage(response.data.message);\n      setIsAuthenticated(true);\n      setShowLogin(false);\n      setShowMenu(false); // Close menu after login\n      localStorage.setItem('token', response.data.token); // Store token\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      setMessage(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'An error occurred');\n    }\n  };\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    setUsername('');\n    setEmail('');\n    localStorage.removeItem('token'); // Clear token on logout\n  };\n  const getInitials = username => {\n    var _nameArray$, _nameArray$$, _nameArray$2, _nameArray$2$;\n    if (!username) return ''; // Return an empty string if username is undefined or empty\n\n    const nameArray = username.split(' ');\n    const firstInitial = ((_nameArray$ = nameArray[0]) === null || _nameArray$ === void 0 ? void 0 : (_nameArray$$ = _nameArray$[0]) === null || _nameArray$$ === void 0 ? void 0 : _nameArray$$.toUpperCase()) || ''; // Safely access first initial\n    const secondInitial = ((_nameArray$2 = nameArray[1]) === null || _nameArray$2 === void 0 ? void 0 : (_nameArray$2$ = _nameArray$2[0]) === null || _nameArray$2$ === void 0 ? void 0 : _nameArray$2$.toUpperCase()) || ''; // Safely access second initial\n    return firstInitial + secondInitial;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-auth\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-icon\",\n      onClick: () => setShowMenu(!showMenu),\n      children: isAuthenticated ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"initials\",\n        children: getInitials(username)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: default_image,\n        alt: \"Default User Icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), showMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dropdown-menu\",\n      children: isAuthenticated ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Signed in as \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 45\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 50\n          }, this), username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 29\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: showSignup ?\n        /*#__PURE__*/\n        // Signup Form\n        _jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 37\n          }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 49\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSignup,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Username\",\n              value: username,\n              onChange: e => setUsername(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              placeholder: \"Email\",\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"Password\",\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: role,\n              onChange: e => setRole(e.target.value),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Role\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 45\n              }, this), roles.map(role => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: role.name,\n                children: role.name\n              }, role._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 49\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Already registered? \", /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: () => {\n                setShowSignup(false);\n                setShowLogin(true);\n              },\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 60\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true) : showLogin ?\n        /*#__PURE__*/\n        // Login Form\n        _jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 37\n          }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 49\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleLogin,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              placeholder: \"Email\",\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"Password\",\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Not yet registered? \", /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: () => {\n                setShowLogin(false);\n                setShowSignup(true);\n              },\n              children: \"Sign up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 60\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true) :\n        /*#__PURE__*/\n        // Default Menu when not authenticated\n        _jsxDEV(\"p\", {\n          children: [\"Not signed up yet? \", /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => setShowSignup(true),\n            children: \"Sign up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 55\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 33\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 9\n  }, this);\n}\n_s(UserIcon, \"I9A0vZxtgHM7dvkQFKV1puDZ7RE=\");\n_c = UserIcon;\nexport default UserIcon;\nvar _c;\n$RefreshReg$(_c, \"UserIcon\");","map":{"version":3,"names":["React","useState","useEffect","jwtDecode","axios","default_image","jsxDEV","_jsxDEV","Fragment","_Fragment","UserIcon","_s","isAuthenticated","setIsAuthenticated","showMenu","setShowMenu","showLogin","setShowLogin","showSignup","setShowSignup","username","setUsername","email","setEmail","password","setPassword","role","setRole","roles","setRoles","message","setMessage","loading","setLoading","token","localStorage","getItem","decodedToken","console","log","error","removeItem","fetchRoles","response","get","data","handleSignup","e","preventDefault","post","_error$response","_error$response$data","handleLogin","user","setItem","_error$response2","_error$response2$data","handleLogout","getInitials","_nameArray$","_nameArray$$","_nameArray$2","_nameArray$2$","nameArray","split","firstInitial","toUpperCase","secondInitial","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onSubmit","type","placeholder","value","onChange","target","required","map","name","_id","_c","$RefreshReg$"],"sources":["c:/Learning/Programming_Projects/Programming_Projects/Weba-Hub/Frontend/weba-hub/src/Components/UserIcon/UserIcon.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { jwtDecode } from 'jwt-decode';\r\n\r\n\r\nimport axios from 'axios';\r\nimport './UserIcon.css';\r\nimport default_image from '../../Assets/default-image.jpg'\r\n\r\nfunction UserIcon() {\r\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n    const [showMenu, setShowMenu] = useState(false);\r\n    const [showLogin, setShowLogin] = useState(false);\r\n    const [showSignup, setShowSignup] = useState(false);\r\n    const [username, setUsername] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [role, setRole] = useState('');\r\n    const [roles, setRoles] = useState([]);\r\n    const [message, setMessage] = useState('');\r\n    const [loading, setLoading] = useState(true); // Add loading state\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            try {\r\n                const decodedToken = jwtDecode(token); // Decode token\r\n                setIsAuthenticated(true);\r\n                setUsername(decodedToken.username || ''); // Handle missing fields gracefully\r\n                setEmail(decodedToken.email || '');\r\n                console.log('Decoded Token:', decodedToken); // Log the entire decoded token\r\n                console.log('Username:', decodedToken.username); // Log username\r\n                console.log('Email:', decodedToken.email); // Log email\r\n            } catch (error) {\r\n                console.error('Error decoding token:', error);\r\n                localStorage.removeItem('token'); // Remove invalid token\r\n                setIsAuthenticated(false);\r\n            }\r\n        }\r\n        setLoading(false); // Set loading to false after token validation\r\n    }, []);\r\n    \r\n    \r\n\r\n    useEffect(() => {\r\n        const fetchRoles = async () => {\r\n            try {\r\n                const response = await axios.get('http://localhost:5000/api/roles/fetch');\r\n                setRoles(response.data);\r\n            } catch (error) {\r\n                console.error('Error fetching roles:', error);\r\n            }\r\n        };\r\n\r\n        fetchRoles();\r\n    }, []);\r\n\r\n    const handleSignup = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const response = await axios.post('http://localhost:5000/api/users/register', {\r\n                username,\r\n                password,\r\n                email,\r\n                role\r\n            });\r\n            setMessage(response.data.message);\r\n            setShowSignup(false);\r\n            setShowLogin(true);\r\n        } catch (error) {\r\n            setMessage(error.response?.data?.message || 'An error occurred');\r\n        }\r\n    };\r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const response = await axios.post('http://localhost:5000/api/users/login', {\r\n                email,\r\n                password\r\n            });\r\n            // Access the user object from the response\r\n        const { user } = response.data; // Extract the user object\r\n        setUsername(user.username); // Set the username from the user object\r\n        setMessage(response.data.message);\r\n        setIsAuthenticated(true);\r\n        setShowLogin(false);\r\n        setShowMenu(false); // Close menu after login\r\n        localStorage.setItem('token', response.data.token); // Store token\r\n    } catch (error) {\r\n        setMessage(error.response?.data?.message || 'An error occurred');\r\n    }\r\n};\r\n\r\n    const handleLogout = () => {\r\n        setIsAuthenticated(false);\r\n        setUsername('');\r\n        setEmail('');\r\n        localStorage.removeItem('token'); // Clear token on logout\r\n    };\r\n\r\n    const getInitials = (username) => {\r\n        if (!username) return ''; // Return an empty string if username is undefined or empty\r\n    \r\n        const nameArray = username.split(' ');\r\n        const firstInitial = nameArray[0]?.[0]?.toUpperCase() || ''; // Safely access first initial\r\n        const secondInitial = nameArray[1]?.[0]?.toUpperCase() || ''; // Safely access second initial\r\n        return firstInitial + secondInitial;\r\n    };\r\n    \r\n\r\n    return (\r\n        <div className=\"user-auth\">\r\n            {/* User Icon */}\r\n            <div className=\"user-icon\" onClick={() => setShowMenu(!showMenu)}>\r\n                {isAuthenticated ? (\r\n                    <div className=\"initials\">{getInitials(username)}</div>\r\n                ) : (\r\n                    <img src={default_image} alt=\"Default User Icon\" />\r\n                )}\r\n            </div>\r\n\r\n            {/* Menu and Forms */}\r\n            {showMenu && (\r\n                <div className=\"dropdown-menu\">\r\n                    {isAuthenticated ? (\r\n                        <>\r\n                            <p>Signed in as <br/><br/>{username}</p>\r\n                            <p>{email}</p> {/* Display the email address */}\r\n                            <button onClick={handleLogout}>Logout</button>\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            {showSignup ? (\r\n                                // Signup Form\r\n                                <>\r\n                                    <h3>Sign Up</h3>\r\n                                    {message && <p>{message}</p>}\r\n                                    <form onSubmit={handleSignup}>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            placeholder=\"Username\"\r\n                                            value={username}\r\n                                            onChange={(e) => setUsername(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                        <input\r\n                                            type=\"email\"\r\n                                            placeholder=\"Email\"\r\n                                            value={email}\r\n                                            onChange={(e) => setEmail(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                        <input\r\n                                            type=\"password\"\r\n                                            placeholder=\"Password\"\r\n                                            value={password}\r\n                                            onChange={(e) => setPassword(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                        <select value={role} onChange={(e) => setRole(e.target.value)} required>\r\n                                            <option value=\"\">Select Role</option>\r\n                                            {roles.map((role) => (\r\n                                                <option key={role._id} value={role.name}>\r\n                                                    {role.name}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                        <button type=\"submit\">Sign Up</button>\r\n                                    </form>\r\n                                    <p>Already registered? <span onClick={() => { setShowSignup(false); setShowLogin(true); }}>Login</span></p>\r\n                                </>\r\n                            ) : showLogin ? (\r\n                                // Login Form\r\n                                <>\r\n                                    <h3>Login</h3>\r\n                                    {message && <p>{message}</p>}\r\n                                    <form onSubmit={handleLogin}>\r\n                                        <input\r\n                                            type=\"email\"\r\n                                            placeholder=\"Email\"\r\n                                            value={email}\r\n                                            onChange={(e) => setEmail(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                        <input\r\n                                            type=\"password\"\r\n                                            placeholder=\"Password\"\r\n                                            value={password}\r\n                                            onChange={(e) => setPassword(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                        <button type=\"submit\">Login</button>\r\n                                    </form>\r\n                                    <p>Not yet registered? <span onClick={() => { setShowLogin(false); setShowSignup(true); }}>Sign up</span></p>\r\n                                </>\r\n                            ) : (\r\n                                // Default Menu when not authenticated\r\n                                <p>Not signed up yet? <span onClick={() => setShowSignup(true)}>Sign up</span></p>\r\n                            )}\r\n                        </>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserIcon;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Learning\\\\Programming_Projects\\\\Programming_Projects\\\\Weba-Hub\\\\Frontend\\\\weba-hub\\\\src\\\\Components\\\\UserIcon\\\\UserIcon.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport jwt_decode from 'jwt.decode'; // Add this import\nimport axios from 'axios';\nimport './UserIcon.css';\nimport default_image from '../../Assets/default-image.jpg';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction UserIcon() {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [showMenu, setShowMenu] = useState(false);\n  const [showLogin, setShowLogin] = useState(false);\n  const [showSignup, setShowSignup] = useState(false);\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [role, setRole] = useState('');\n  const [roles, setRoles] = useState([]);\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      // If token exists, set user to authenticated\n      setIsAuthenticated(true);\n      // Optionally fetch user info using the token if necessary, or use it directly\n      const decodedToken = jwt.decode(token); // You might need to install `jwt-decode` or decode the token manually\n      if (decodedToken) {\n        setUsername(decodedToken.username);\n        setEmail(decodedToken.email); // If email is available in the token\n      }\n    }\n  }, []);\n  useEffect(() => {\n    const fetchRoles = async () => {\n      try {\n        const response = await axios.get('http://localhost:5000/api/roles/fetch');\n        setRoles(response.data);\n      } catch (error) {\n        console.error('Error fetching roles:', error);\n      }\n    };\n    fetchRoles();\n  }, []);\n  const handleSignup = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:5000/api/users/register', {\n        username,\n        password,\n        email,\n        role\n      });\n      setMessage(response.data.message);\n      setShowSignup(false);\n      setShowLogin(true);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'An error occurred');\n    }\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:5000/api/users/login', {\n        email,\n        password\n      });\n      // Access the user object from the response\n      const {\n        user\n      } = response.data; // Extract the user object\n      setUsername(user.username); // Set the username from the user object\n      setMessage(response.data.message);\n      setIsAuthenticated(true);\n      setShowLogin(false);\n      setShowMenu(false); // Close menu after login\n      localStorage.setItem('token', response.data.token); // Store token\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      setMessage(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'An error occurred');\n    }\n  };\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    setUsername('');\n    setEmail('');\n    localStorage.removeItem('token'); // Clear token on logout\n  };\n  const getInitials = name => {\n    const nameArray = name.split(' ');\n    return nameArray[0][0].toUpperCase() + (nameArray[1] ? nameArray[1][0].toUpperCase() : '');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-auth\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-icon\",\n      onClick: () => setShowMenu(!showMenu),\n      children: isAuthenticated ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"initials\",\n        children: getInitials(username)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: default_image,\n        alt: \"Default User Icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), showMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dropdown-menu\",\n      children: isAuthenticated ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Signed in as \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 45\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 50\n          }, this), username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 29\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: showSignup ?\n        /*#__PURE__*/\n        // Signup Form\n        _jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 37\n          }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 49\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSignup,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Username\",\n              value: username,\n              onChange: e => setUsername(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              placeholder: \"Email\",\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"Password\",\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: role,\n              onChange: e => setRole(e.target.value),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Role\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 45\n              }, this), roles.map(role => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: role.name,\n                children: role.name\n              }, role._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 49\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Already registered? \", /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: () => {\n                setShowSignup(false);\n                setShowLogin(true);\n              },\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 60\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true) : showLogin ?\n        /*#__PURE__*/\n        // Login Form\n        _jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 37\n          }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 49\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleLogin,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              placeholder: \"Email\",\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"Password\",\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Not yet registered? \", /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: () => {\n                setShowLogin(false);\n                setShowSignup(true);\n              },\n              children: \"Sign up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 60\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true) :\n        /*#__PURE__*/\n        // Default Menu when not authenticated\n        _jsxDEV(\"p\", {\n          children: [\"Not signed up yet? \", /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => setShowSignup(true),\n            children: \"Sign up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 55\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 33\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n}\n_s(UserIcon, \"Qs5Soh6jPDgNRG9UJMedj1wie0c=\");\n_c = UserIcon;\nexport default UserIcon;\nvar _c;\n$RefreshReg$(_c, \"UserIcon\");","map":{"version":3,"names":["React","useState","useEffect","jwt_decode","axios","default_image","jsxDEV","_jsxDEV","Fragment","_Fragment","UserIcon","_s","isAuthenticated","setIsAuthenticated","showMenu","setShowMenu","showLogin","setShowLogin","showSignup","setShowSignup","username","setUsername","email","setEmail","password","setPassword","role","setRole","roles","setRoles","message","setMessage","token","localStorage","getItem","decodedToken","jwt","decode","fetchRoles","response","get","data","error","console","handleSignup","e","preventDefault","post","_error$response","_error$response$data","handleLogin","user","setItem","_error$response2","_error$response2$data","handleLogout","removeItem","getInitials","name","nameArray","split","toUpperCase","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onSubmit","type","placeholder","value","onChange","target","required","map","_id","_c","$RefreshReg$"],"sources":["C:/Learning/Programming_Projects/Programming_Projects/Weba-Hub/Frontend/weba-hub/src/Components/UserIcon/UserIcon.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport jwt_decode from 'jwt.decode';  // Add this import\r\nimport axios from 'axios';\r\nimport './UserIcon.css';\r\nimport default_image from '../../Assets/default-image.jpg'\r\n\r\nfunction UserIcon() {\r\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n    const [showMenu, setShowMenu] = useState(false);\r\n    const [showLogin, setShowLogin] = useState(false);\r\n    const [showSignup, setShowSignup] = useState(false);\r\n    const [username, setUsername] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [role, setRole] = useState('');\r\n    const [roles, setRoles] = useState([]);\r\n    const [message, setMessage] = useState('');\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            // If token exists, set user to authenticated\r\n            setIsAuthenticated(true);\r\n            // Optionally fetch user info using the token if necessary, or use it directly\r\n            const decodedToken = jwt.decode(token); // You might need to install `jwt-decode` or decode the token manually\r\n            if (decodedToken) {\r\n                setUsername(decodedToken.username);\r\n                setEmail(decodedToken.email); // If email is available in the token\r\n            }\r\n        }\r\n    }, []);\r\n    \r\n\r\n    useEffect(() => {\r\n        const fetchRoles = async () => {\r\n            try {\r\n                const response = await axios.get('http://localhost:5000/api/roles/fetch');\r\n                setRoles(response.data);\r\n            } catch (error) {\r\n                console.error('Error fetching roles:', error);\r\n            }\r\n        };\r\n\r\n        fetchRoles();\r\n    }, []);\r\n\r\n    const handleSignup = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const response = await axios.post('http://localhost:5000/api/users/register', {\r\n                username,\r\n                password,\r\n                email,\r\n                role\r\n            });\r\n            setMessage(response.data.message);\r\n            setShowSignup(false);\r\n            setShowLogin(true);\r\n        } catch (error) {\r\n            setMessage(error.response?.data?.message || 'An error occurred');\r\n        }\r\n    };\r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const response = await axios.post('http://localhost:5000/api/users/login', {\r\n                email,\r\n                password\r\n            });\r\n            // Access the user object from the response\r\n        const { user } = response.data; // Extract the user object\r\n        setUsername(user.username); // Set the username from the user object\r\n        setMessage(response.data.message);\r\n        setIsAuthenticated(true);\r\n        setShowLogin(false);\r\n        setShowMenu(false); // Close menu after login\r\n        localStorage.setItem('token', response.data.token); // Store token\r\n    } catch (error) {\r\n        setMessage(error.response?.data?.message || 'An error occurred');\r\n    }\r\n};\r\n\r\n    const handleLogout = () => {\r\n        setIsAuthenticated(false);\r\n        setUsername('');\r\n        setEmail('');\r\n        localStorage.removeItem('token'); // Clear token on logout\r\n    };\r\n\r\n    const getInitials = (name) => {\r\n        const nameArray = name.split(' ');\r\n        return nameArray[0][0].toUpperCase() + (nameArray[1] ? nameArray[1][0].toUpperCase() : '');\r\n    };\r\n    \r\n\r\n    return (\r\n        <div className=\"user-auth\">\r\n            {/* User Icon */}\r\n            <div className=\"user-icon\" onClick={() => setShowMenu(!showMenu)}>\r\n                {isAuthenticated ? (\r\n                    <div className=\"initials\">{getInitials(username)}</div>\r\n                ) : (\r\n                    <img src={default_image} alt=\"Default User Icon\" />\r\n                )}\r\n            </div>\r\n\r\n            {/* Menu and Forms */}\r\n            {showMenu && (\r\n                <div className=\"dropdown-menu\">\r\n                    {isAuthenticated ? (\r\n                        <>\r\n                            <p>Signed in as <br/><br/>{username}</p>\r\n                            <p>{email}</p> {/* Display the email address */}\r\n                            <button onClick={handleLogout}>Logout</button>\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            {showSignup ? (\r\n                                // Signup Form\r\n                                <>\r\n                                    <h3>Sign Up</h3>\r\n                                    {message && <p>{message}</p>}\r\n                                    <form onSubmit={handleSignup}>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            placeholder=\"Username\"\r\n                                            value={username}\r\n                                            onChange={(e) => setUsername(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                        <input\r\n                                            type=\"email\"\r\n                                            placeholder=\"Email\"\r\n                                            value={email}\r\n                                            onChange={(e) => setEmail(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                        <input\r\n                                            type=\"password\"\r\n                                            placeholder=\"Password\"\r\n                                            value={password}\r\n                                            onChange={(e) => setPassword(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                        <select value={role} onChange={(e) => setRole(e.target.value)} required>\r\n                                            <option value=\"\">Select Role</option>\r\n                                            {roles.map((role) => (\r\n                                                <option key={role._id} value={role.name}>\r\n                                                    {role.name}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                        <button type=\"submit\">Sign Up</button>\r\n                                    </form>\r\n                                    <p>Already registered? <span onClick={() => { setShowSignup(false); setShowLogin(true); }}>Login</span></p>\r\n                                </>\r\n                            ) : showLogin ? (\r\n                                // Login Form\r\n                                <>\r\n                                    <h3>Login</h3>\r\n                                    {message && <p>{message}</p>}\r\n                                    <form onSubmit={handleLogin}>\r\n                                        <input\r\n                                            type=\"email\"\r\n                                            placeholder=\"Email\"\r\n                                            value={email}\r\n                                            onChange={(e) => setEmail(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                        <input\r\n                                            type=\"password\"\r\n                                            placeholder=\"Password\"\r\n                                            value={password}\r\n                                            onChange={(e) => setPassword(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                        <button type=\"submit\">Login</button>\r\n                                    </form>\r\n                                    <p>Not yet registered? <span onClick={() => { setShowLogin(false); setShowSignup(true); }}>Sign up</span></p>\r\n                                </>\r\n                            ) : (\r\n                                // Default Menu when not authenticated\r\n                                <p>Not signed up yet? <span onClick={() => setShowSignup(true)}>Sign up</span></p>\r\n                            )}\r\n                        </>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserIcon;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}